{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst API_KEY = \"41702545-5a959d1a868233ac463ab5270\";\nconst searchForm = document.getElementById(\"search-form\");\nconst searchInput = document.getElementById(\"search-input\");\nconst imageGallery = document.getElementById(\"image-gallery\");\nconst loader = document.getElementById(\"loader\");\nloader.style.visibility = 'hidden';\n\nlet lightbox;\n\nsearchForm.addEventListener(\"submit\", async (event) => {\n  event.preventDefault();\n  const searchTerm = searchInput.value.trim();\n  if (searchTerm === \"\") return;\n  loader.style.visibility = 'visible';\n\n\n  try {\n    const response = await fetch(`https://pixabay.com/api/?key=${API_KEY}&q=${searchTerm}&image_type=photo&orientation=horizontal&safesearch=true`);\n    if (!response.ok) {\n      throw new Error('Network response was not ok');\n    }\n    const data = await response.json();\n    displayImages(data.hits);\n  } catch (error) {\n    showError();\n  } finally {\n    loader.style.visibility = 'hidden';\n  }\n});\n\nfunction displayImages(images) {\n  if (images.length === 0) {\n    showError();\n    return;\n  }\n\n  imageGallery.innerHTML = \"\";\n  const imageElements = images.map(image => createImageElement(image));\n  imageGallery.append(...imageElements);\n\n  let options = {\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true\n  };\n  lightbox = new SimpleLightbox('.gallery a', options);\n  lightbox.refresh();\n}\n\nfunction createImageElement(image) {\n  const link = document.createElement(\"a\");\n  link.href = image.largeImageURL;\n  link.setAttribute(\"data-lightbox\", \"image-gallery\");\n  link.innerHTML = `\n  <div class=\"galery-item\">\n    <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n    <div class=\"image-info\">\n      <div class=\"img-info-item\">\n        <p>Likes:</p>\n        <p> ${image.likes}</p>\n      </div>\n      <div class=\"img-info-item\">\n        <p>Views: </p>\n        <p>${image.views}</p>\n      </div>\n      <div class=\"img-info-item\">\n        <p>Comments: </p>\n        <p>${image.comments}</p>\n      </div>\n      <div class=\"img-info-item\">\n        <p>Downloads: </p>\n        <p>${image.downloads}</p>\n      </div>\n    </div>\n  </div>\n  `;\n  return link;\n}\n\nfunction showError() {\n  imageGallery.innerHTML = \"\";\n  iziToast.error({\n    title: 'Error',\n    message: 'Sorry, there are no images matching your search query. Please try again!',\n  });\n}"],"names":["API_KEY","searchForm","searchInput","imageGallery","loader","lightbox","event","searchTerm","response","data","displayImages","showError","images","imageElements","image","createImageElement","options","SimpleLightbox","link","iziToast"],"mappings":"6vBAKA,MAAMA,EAAU,qCACVC,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAe,SAAS,eAAe,eAAe,EACtDC,EAAS,SAAS,eAAe,QAAQ,EAC/CA,EAAO,MAAM,WAAa,SAE1B,IAAIC,EAEJJ,EAAW,iBAAiB,SAAU,MAAOK,GAAU,CACrDA,EAAM,eAAc,EACpB,MAAMC,EAAaL,EAAY,MAAM,KAAI,EACzC,GAAIK,IAAe,GACnB,CAAAH,EAAO,MAAM,WAAa,UAG1B,GAAI,CACF,MAAMI,EAAW,MAAM,MAAM,gCAAgCR,OAAaO,2DAAoE,EAC9I,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAE/C,MAAMC,EAAO,MAAMD,EAAS,OAC5BE,EAAcD,EAAK,IAAI,CACxB,MAAC,CACAE,GACJ,QAAY,CACRP,EAAO,MAAM,WAAa,QAC3B,EACH,CAAC,EAED,SAASM,EAAcE,EAAQ,CAC7B,GAAIA,EAAO,SAAW,EAAG,CACvBD,IACA,MACD,CAEDR,EAAa,UAAY,GACzB,MAAMU,EAAgBD,EAAO,IAAIE,GAASC,EAAmBD,CAAK,CAAC,EACnEX,EAAa,OAAO,GAAGU,CAAa,EAEpC,IAAIG,EAAU,CACZ,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EACEX,EAAW,IAAIY,EAAe,aAAcD,CAAO,EACnDX,EAAS,QAAO,CAClB,CAEA,SAASU,EAAmBD,EAAO,CACjC,MAAMI,EAAO,SAAS,cAAc,GAAG,EACvC,OAAAA,EAAK,KAAOJ,EAAM,cAClBI,EAAK,aAAa,gBAAiB,eAAe,EAClDA,EAAK,UAAY;AAAA;AAAA,gBAEHJ,EAAM,sBAAsBA,EAAM;AAAA;AAAA;AAAA;AAAA,cAIpCA,EAAM;AAAA;AAAA;AAAA;AAAA,aAIPA,EAAM;AAAA;AAAA;AAAA;AAAA,aAINA,EAAM;AAAA;AAAA;AAAA;AAAA,aAINA,EAAM;AAAA;AAAA;AAAA;AAAA,IAKVI,CACT,CAEA,SAASP,GAAY,CACnBR,EAAa,UAAY,GACzBgB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0EACb,CAAG,CACH"}